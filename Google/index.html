<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Google</title>
    <link rel="stylesheet" href="CSS/Style.css">
    <link rel="stylesheet" href="CSS/results.css" />
     <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.js"></script>

  </head>
  <body>
<div id="wrapper" v-bind:class="{'results': googleSearch != '' }">
  <div id="nav">

    <a class="toplink">Gmail</a>
    <a class="toplink">Image</a>
    <img  class= "topimage" src="IMG/menu.png" alt="logo">

  </div>

  <div id="middle">

    <div id="logo">
      <img src="https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png" alt="logo">
    </div>

    <div id="searchbarcontainer">
      <div id="search">
        <img  class= "search-img" src="IMG/magnifing-glasss.jpg" alt="logo">
      </div>
      <input id = "searchbar" type="text">
      <div id="voice">
        <img  class= "voice-img" src="IMG/voice.png" alt="logo">
      </div>
    </div>


    <div id="buttons">
      <div class="button">
        Google Search
      </div>
      <div class="button">
        I'm feeling lucky
      </div>
    </div>
    <div id="links">
      Google is offerd in  <a href="#"> polski</a>

    </div>
    </div>
    <section class="section-1">
       <img src="IMG/logo.png" class="logo" />
       <div class="search-row">
         <div>
           <div class="s-box">
             <img src="IMG/search.png" class="search-icon" />
             <div id="app">
               <input
                 type="text"
                 class="s-input"
                 id="main-search"
                 v-model="googleSearch"
                 @input="onChange"
                 @keydown.down="onArrowDown"
                 @keydown.up="onArrowUp"
                 @keydown.enter="onEnter"
               />
               <ul
                 v-show="isOpen"
                 class="dropdown-menu autocomplete-results"
                 style="width: 100%"
               >
                 <li
                   v-for="(item, i) in filteredCities"
                   :key="i"
                   @click="suggestionClick(item)"
                   class="autocomplete-result"
                   :class="{ 'is-active': i === arrowCounter }"
                 >
                   <span class="filteredCities" v-html="item"></span>
                 </li>
               </ul>
             </div>
             <img src="IMG/keyboard.png" class="keyboard-icon" />
             <div class="mic">
               <svg
                 class="HPVvwb"
                 focusable="false"
                 viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg"
               >
                 <path
                   fill="#4285f4"
                   d="m12 15c1.66 0 3-1.31 3-2.97v-7.02c0-1.66-1.34-3.01-3-3.01s-3 1.34-3 3.01v7.02c0 1.66 1.34 2.97 3 2.97z"
                 ></path>
                 <path fill="#34a853" d="m11 18.08h2v3.92h-2z"></path>
                 <path
                   fill="#fbbc05"
                   d="m7.05 16.87c-1.27-1.33-2.05-2.83-2.05-4.87h2c0 1.45 0.56 2.42 1.47 3.38v0.32l-1.15 1.18z"
                 ></path>
                 <path
                   fill="#ea4335"
                   d="m12 16.93a4.97 5.25 0 0 1 -3.54 -1.55l-1.41 1.49c1.26 1.34 3.02 2.13 4.95 2.13 3.87 0 6.99-2.92 6.99-7h-1.99c0 2.92-2.24 4.93-5 4.93z"
                 ></path>
               </svg>
             </div>
             <div class="buttons">
               <input
                 type="submit"
                 id="submit-btn"
                 class="s-btn"
                 value="Search in  Google"
               />
               <input type="submit" class="s-btn" value="Lucky result" />
             </div>
           </div>
         </div>
       </div>
     </section>

    <div class="results-rows">
        <div id="border1">
          <div class="option-bar">
            <div class="single-icon"><img src="IMG/magnifing-glasss.jpg" /> All</div>
            <div class="single-icon"><img src="IMG/new.png" /> News</div>
            <div class="single-icon"><img src="IMG/images.png" /> Images</div>
            <div class="single-icon"><img src="IMG/videos.png" /> Video</div>
            <div class="single-icon"><img src="IMG/maps.png" /> Maps</div>
            <div class="single-icon"><img src="IMG/more.png" /> More</div>
            <div class="single-icon"><a href="">Settings</a></div>
            <div class="single-icon"><a href="">Tools</a></div>
          </div>
        </div>
        <div class="count-info">About 12 459 850 results (0.22 seconds)</div>
        <div class="single-res">
          <div class="header">Lorem ipsum dolor sit amet</div>
          <div class="text">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
            labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris
            nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit
            esse cillum dolore eu fugiat nulla pariatur.
          </div>
        </div>
        <div class="single-res">
          <div class="header">
            Viverra maecenas accumsan lacus vel
          </div>
          <div class="text">
            Sit amet est placerat in egestas erat. Suscipit tellus mauris a diam maecenas sed.
            Dui vivamus arcu felis bibendum. Ut sem nulla pharetra diam sit amet nisl suscipit adipiscing.
            Neque gravida in fermentum et sollicitudin. Quam quisque id diam vel.
            Id porta nibh venenatis cras sed felis.
          </div>
        </div>
        <div class="single-res">
          <div class="header">
            Duis tristique sollicitudin nibh sit amet commodo
          </div>
          <div class="text">
            Fames ac turpis egestas maecenas.Pulvinar sapien et ligula ullamcorper malesuada proin.
            Nunc non blandit massa enim. Velit aliquet sagittis id consectetur.
            Commodo nulla facilisi nullam vehicula ipsum a arcu cursus.
          </div>
        </div>
        <div class="single-res">
          <div class="header">
            Vel fringilla est ullamcorper eget nulla.
          </div>
          <div class="text">
            Eros donec ac odio tempor orci dapibus. Condimentum mattis pellentesque id nibh tortor id aliquet lectus proin.
            Lacinia at quis risus sed vulputate odio ut. Lectus urna duis convallis convallis tellus id interdum velit
            laoreet. Vitae justo eget magna fermentum.
            In metus vulputate eu scelerisque felis.
            Sollicitudin nibh sit amet commodo nulla facilisi nullam vehicula.
          </div>
        </div>
        <div class="single-res">
          <div class="header">
            Erat imperdiet sed euismod nisi porta lorem mollis aliquam ut.
          </div>
          <div class="text">
            Enim nunc faucibus a pellentesque sit. Nulla aliquet enim tortor at.
            Et magnis dis parturient montes nascetur ridiculus mus mauris.
            Mauris pellentesque pulvinar pellentesque habitant morbi tristique senectus et.
            Aliquet lectus proin nibh nisl condimentum.
            Purus in mollis nunc sed id semper risus in. Fermentum leo vel orci porta non.
          </div>
        </div>
        <div class="single-res">
          <div class="header">
            Nulla pharetra diam sit amet nisl suscipit adipiscing bibendum.
          </div>
          <div class="text">
            Ut porttitor leo a diam sollicitudin tempor id eu. Porttitor massa id neque aliquam vestibulum.
            Praesent semper feugiat nibh sed. Mauris sit amet massa vitae.
            At lectus urna duis convallis convallis tellus.
            Cursus turpis massa tincidunt dui ut ornare. Quis viverra nibh cras pulvinar mattis.
          </div>
        </div>


      <div id="footer-content">
        <a href="#">Advertasing</a>
        <a href="#">Business</a>
        <a href="#">About</a>
        <a href="#">How Search works</a>


    </div>



</div>
<script src="cities.js"></script>
    <script>
      var app = new Vue({
        el: "#wrapper",
        data: function () {
          return {
            googleSearch: "",
            cities: window.cities,
            arrowCounter: -1,
            results: [],
            isOpen: false,
          };
        },
        computed: {
          filteredCities: function () {
            if (this.googleSearch != "") {
              let tab = [];
              let tab1 = [];
              tab = this.cities
                .filter((ele) => ele.country.includes(this.googleSearch))
                .slice(0, 10);
              this.result = tab;
              tab.map((element) => {
                tab1.push(
                  element.country.replace(
                    new RegExp(this.googleSearch, "gi"),
                    (match) => {
                      return (
                        '<span style="font-weight:300">' + match + "</span>"
                      );
                    }
                  )
                );
              });
              return tab1;
            } else {
              return [];
            }
          },
        },
        methods: {
          suggestionClick: function (result) {
            this.googleSearch = result
              .replace(
                new RegExp('<span style="font-weight:300">', "gi"),
                (match) => {
                  return "";
                }
              )
              .replace(new RegExp("</span>", "gi"), (match) => {
                return "";
              });
            this.isOpen = false;
          },
          onChange() {
            this.isOpen = true;
            this.results = this.cities
              .filter((ele) => ele.country.includes(this.googleSearch))
              .slice(0, 10);
          },
          onArrowDown() {
            if (this.arrowCounter === this.results.length - 1) {
              this.arrowCounter = 0;
            } else if (this.arrowCounter < this.results.length) {
              this.arrowCounter = this.arrowCounter + 1;
            }
          },
          onArrowUp() {
            if (this.arrowCounter > 0) {
              this.arrowCounter = this.arrowCounter - 1;
            } else if ((this.arrowCounter = -1)) {
              this.arrowCounter = this.results.length - 1;
            }
          },
          onEnter() {
            this.googleSearch = this.results[this.arrowCounter];
            this.arrowCounter = -1;
          },
        },
      });
    </script>
<script>
      document.getElementById("submit-btn").onclick = function () {
        if (!!document.getElementById("main-search").value)
          document.getElementById("wrapper").classList.add("results");
      };
    </script>
  </body>
</html>
